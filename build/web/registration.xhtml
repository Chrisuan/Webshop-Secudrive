<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        
    </h:head>
    <h:body>
        <ui:composition template="PageDesign.xhtml">
            <ui:define name="title">Registrierung</ui:define>
            <ui:define name="content">
                <p>
                    <h:outputText value="Bitte geben Sie hier Ihre Daten ein:"
                                  rendered="#{!cBean.currentCustomer.loggedIn}"/>
                    
                    <h:outputText value="Sie sind bereits eingeloggt!"
                                  rendered="#{cBean.currentCustomer.loggedIn}"/>
                    
                    
                </p>
                <h:form rendered="#{!cBean.currentCustomer.loggedIn}">
                    <h:panelGrid columns="3" columnClasses="label, input, message">
                        <h:outputLabel for="username">Username: </h:outputLabel>
                        <h:inputText id="username" 
                                     value="#{cBean.currentCustomer.CAlias}"
                                     required="true"
                                     requiredMessage="Bitte geben Sie einen 
                                     Benutzernamen an" maxlength="50">
                            <f:validateLength maximum="50"/>
                        </h:inputText> 
                        <h:message for="username"/>
                        
                        <h:outputLabel for="password">Passwort: </h:outputLabel>
                        <h:inputSecret id="password" 
                                     value="#{cBean.currentCustomer.CPwd}"
                                     required="true"
                                     requiredMessage="Bitte geben Sie ein 
                                     Passwort mit mindestens 3 und höchstens 20 Zeichen an"
                                     maxlength="50">
                            <f:validateLength maximum="20" minimum="3"/>
                        </h:inputSecret>
                        <h:message for="password"/>
                        
                        <h:outputLabel for="firstName">Vorname: </h:outputLabel>
                        <h:inputText id="firstName" 
                                     value="#{cBean.currentCustomer.CFirstName}"
                                     required="true"
                                     requiredMessage="Bitte geben Sie Ihren 
                                     Vornamen an" maxlength="50">
                            <f:validateLength maximum="50"/>
                        </h:inputText>
                        <h:message for="firstName"/>
                        
                        <h:outputLabel for="lastName">Nachname: </h:outputLabel>
                        <h:inputText id="lastName" 
                                     value="#{cBean.currentCustomer.CLastName}"
                                     required="true"
                                     requiredMessage="Bitte geben Sie Ihren 
                                     Nachnamen an" maxlength="50">
                            <f:validateLength maximum="50"/>
                        </h:inputText>
                        <h:message for="lastName"/>
                        
                        <h:outputLabel for="street">Straße, Hausnummer: </h:outputLabel>
                        <h:inputText id="street" 
                                     value="#{cBean.currentCustomer.CStreetHNr}"
                                     required="true"
                                     requiredMessage="Bitte geben Sie Ihre Straße
                                     und Hausnummer an" maxlength="50">
                            <f:validateLength maximum="50"/>
                        </h:inputText>
                        <h:message for="street"/>
                        
                        <h:outputLabel for="zipCode">Postleitzahl: </h:outputLabel>
                        <h:inputText id="zipCode" 
                                     value="#{cBean.currentCustomer.CZipCode}"
                                     required="true"
                                     requiredMessage="Bitte geben Sie Ihre 
                                     Postleitzahl an" maxlength="20">
                            <f:validateLength maximum="20"/>
                        </h:inputText>
                        <h:message for="zipCode"/>
                        
                         <h:outputLabel for="city">Stadt: </h:outputLabel>
                        <h:inputText id="city" 
                                     value="#{cBean.currentCustomer.CCity}"
                                     required="true"
                                     requiredMessage="Bitte geben Sie Ihren 
                                     Wohnort an" maxlength="30">
                            <f:validateLength maximum="30"/>
                        </h:inputText>
                         <h:message for="city"/>
                         
                         <h:outputLabel for="email">E-Mail: </h:outputLabel>
                        <h:inputText id="email" 
                                     value="#{cBean.currentCustomer.CEmail}"
                                     required="true"
                                     requiredMessage="Bitte geben Sie Ihre 
                                     E-Mail Adresse an" maxlength="30">
                            <f:validateLength maximum="30"/>
                        </h:inputText>
                         <h:message for="email"/>
                         <h:panelGroup/>
                         <h:commandButton action="#{cBean.createAccount()}"
                                        value="Daten absenden"/>
                                     <h:panelGroup/>
                    </h:panelGrid>
                </h:form>
                
                <p> 
                    <h:outputText value="Es ist ein Fehler aufgetreten: 
                              #{cBean.currentCustomer.error}"
                              rendered="#{cBean.currentCustomer.errorOccured}"/>
                </p>
                <p>
                    <h:outputText value="Account erfolgreich angelegt"
                              rendered="#{cBean.registrationSuccess}"/>
                </p>
                <p>
                    <h:outputText value="#{cBean.error}"
                                 rendered="#{cBean.error!=null}"
                                 class="message"/>
                </p>
                              
                
            </ui:define>
        </ui:composition>
    </h:body>
</html>


